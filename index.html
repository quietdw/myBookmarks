<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
    <title>我的导航</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header></header>
    <main class="wrapper">
        <div id="main"></div>
    </main>
    <footer></footer>
</body>
<script>
    var keys = {
        0:['q','w','e','r','t','y','u','i','o','p'],
        1:['a','s','d','f','g','h','j','k','l'],
        2:['z','x','c','v','b','n','m']
    };
    var hash = {
        'q':'qq.com',
        'j':'jiangnana.fun',
        'l':'qq.com'

    };
    var i=0;
    var localStorageHash = JSON.parse(localStorage.getItem('hash') || 'null');
    //console.log(localStorageHash);
    if(localStorageHash){
        hash = localStorageHash;
    }
    //console.log(hash);
    while(i < Object.keys(keys).length){
        var j=0;
        var oMain = document.getElementById('main');
        var oDiv = document.createElement('div');
        main.appendChild(oDiv);
        
        while (j < keys[i].length) {
            var oKbd = document.createElement('kbd');
            var oBtn = document.createElement('button');
            
            oBtn.textContent = '编辑';
            oBtn.onclick = function(e){
                url = prompt('请输入网址');
               // console.log(this.parentNode.textContent[0]);
                key = this.parentNode.textContent[0];
                hash[key] = url;
                localStorage.setItem('hash',JSON.stringify(hash));
            }
            oKbd.textContent = keys[i][j];
            oDiv.appendChild(oKbd);
            oKbd.appendChild(oBtn);

            j++;
        };

        i++;
    };

    document.onkeypress = function (e) {
        var key = e['key'];
        url = hash[key]
        window.open('http://'+url, '_blank');
    };


</script>
<script src="测试.js"></script>
</html>